{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Samsung\\\\OneDrive\\\\Desktop\\\\Mariano Crop Farm Frontend\\\\marianocropfarmbot\\\\src\\\\components\\\\Liders.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectUser } from '../features/userSlice';\nimport { selectTopUsers } from '../features/topUserSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Liders = () => {\n  _s();\n  const user = useSelector(selectUser); // Getting the user from Redux store\n  const topUsers = useSelector(selectTopUsers); // Getting the top users from Redux store\n\n  // Function to calculate the percentage\n  const calculateTopPercentage = userBalance => {\n    var _topUsers;\n    if (!topUsers || topUsers.length === 0) return \"N/A\"; // Check if topUsers is empty\n\n    const topUserBalance = (_topUsers = topUsers[topUsers.length - 1]) === null || _topUsers === void 0 ? void 0 : _topUsers.balance; // Safe access to balance\n    if (!topUserBalance || topUserBalance === 0) return \"100%\"; // Handle case for 0 balance\n\n    const percentage = userBalance / topUserBalance * 100;\n    if (percentage >= 99.5) return \"1%\";\n    if (percentage >= 90) return `${Math.ceil(100 - percentage)}%`;\n    if (percentage >= 80) return \"20%\";\n    if (percentage >= 80) return \"50%\"; // This is unreachable due to the previous if statement\n    return `${Math.ceil(100 - percentage)}%`;\n  };\n\n  // Ensure user object exists before accessing balance\n  const userTopPercentage = user ? calculateTopPercentage(user.balance) : \"N/A\";\n\n  // Function to format numbers\n  const formatNumber = num => {\n    let numStr = num.toFixed(3);\n    let [intPart, decPart] = numStr.split(\".\");\n    intPart = intPart.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n    if (num < 0.01) {\n      return `${intPart},${decPart}`;\n    }\n    decPart = decPart.slice(0, 2);\n    return `${intPart},${decPart}`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gray-800 mx-4 mt-6 mb-24 h-60 rounded-lg relative\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `h-full overflow-y-auto hide-scrollbar ${!SafetopUsers.some(topUser => topUser.id === (user === null || user === void 0 ? void 0 : user.uid)) && \"pb-12\"}`,\n      children: topUsers.map(({\n        id,\n        balance,\n        firstName,\n        lastName,\n        userImage\n      }, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${id === (user === null || user === void 0 ? void 0 : user.uid) && \"bg-gray-900 rounded-lg\"} flex items-center px-2 py-1 w-full`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-shrink-0 mr-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-zinc-950 flex items-center justify-center rounded-full h-8 w-8\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-white text-sm\",\n              children: index + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-shrine-0 mr-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-2 border-yellow-700 overflow-hidden flex items-center rounded-full bg-gray-800 h-10 w-10\",\n            children: userImage ? /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"w-9 h-9 object-contain\",\n              src: userImage,\n              alt: firstName[0].toUpperCase()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xl text-white bg-black w-14 h-14 flex items-center justify-center\",\n              children: firstName[0].toUpperCase()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-grow min-w-0 flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-white font-bold truncate mr-2\",\n            children: [firstName, \" \", lastName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-white whitespace-nowrap flex-shrink-0\",\n            children: [\"\\uD83C\\uDF3F \", formatNumber(balance)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(Liders, \"TnyQ7Hh5s1VYPO/Ws70xSBNruuc=\", false, function () {\n  return [useSelector, useSelector];\n});\n_c = Liders;\nexport default Liders;\nvar _c;\n$RefreshReg$(_c, \"Liders\");","map":{"version":3,"names":["React","useSelector","selectUser","selectTopUsers","jsxDEV","_jsxDEV","Liders","_s","user","topUsers","calculateTopPercentage","userBalance","_topUsers","length","topUserBalance","balance","percentage","Math","ceil","userTopPercentage","formatNumber","num","numStr","toFixed","intPart","decPart","split","replace","slice","className","children","SafetopUsers","some","topUser","id","uid","map","firstName","lastName","userImage","index","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","toUpperCase","_c","$RefreshReg$"],"sources":["C:/Users/Samsung/OneDrive/Desktop/Mariano Crop Farm Frontend/marianocropfarmbot/src/components/Liders.js"],"sourcesContent":["import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { selectUser } from '../features/userSlice';\r\nimport { selectTopUsers } from '../features/topUserSlice';\r\n\r\nconst Liders = () => {\r\n  const user = useSelector(selectUser);  // Getting the user from Redux store\r\n  const topUsers = useSelector(selectTopUsers);  // Getting the top users from Redux store\r\n\r\n  // Function to calculate the percentage\r\n  const calculateTopPercentage = (userBalance) => {\r\n    if (!topUsers || topUsers.length === 0) return \"N/A\";  // Check if topUsers is empty\r\n\r\n    const topUserBalance = topUsers[topUsers.length - 1]?.balance;  // Safe access to balance\r\n    if (!topUserBalance || topUserBalance === 0) return \"100%\";  // Handle case for 0 balance\r\n\r\n    const percentage = (userBalance / topUserBalance) * 100;\r\n\r\n    if (percentage >= 99.5) return \"1%\";\r\n    if (percentage >= 90) return `${Math.ceil(100 - percentage)}%`;\r\n    if (percentage >= 80) return \"20%\";\r\n    if (percentage >= 80) return \"50%\";  // This is unreachable due to the previous if statement\r\n    return `${Math.ceil(100 - percentage)}%`;\r\n  };\r\n\r\n  // Ensure user object exists before accessing balance\r\n  const userTopPercentage = user ? calculateTopPercentage(user.balance) : \"N/A\";\r\n\r\n  // Function to format numbers\r\n  const formatNumber = (num) => {\r\n    let numStr = num.toFixed(3);\r\n    let [intPart, decPart] = numStr.split(\".\");\r\n\r\n    intPart = intPart.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\r\n    \r\n    if (num < 0.01) {\r\n      return `${intPart},${decPart}`;\r\n    }\r\n\r\n    decPart = decPart.slice(0, 2);\r\n    return `${intPart},${decPart}`;\r\n  };\r\n\r\n  return (\r\n    <div className='bg-gray-800 mx-4 mt-6 mb-24 h-60 rounded-lg relative'>\r\n      <div\r\n        className={`h-full overflow-y-auto hide-scrollbar ${\r\n          !SafetopUsers.some((topUser) => topUser.id === user?.uid) && \"pb-12\"\r\n        }`}\r\n      >\r\n        {topUsers.map(\r\n          ({ id, balance, firstName, lastName, userImage }, index) => (\r\n            <div\r\n              key={index}\r\n              className={`${\r\n                id === user?.uid && \"bg-gray-900 rounded-lg\"\r\n              } flex items-center px-2 py-1 w-full`}\r\n            >\r\n              <div className='flex-shrink-0 mr-4'>\r\n                <div className='bg-zinc-950 flex items-center justify-center rounded-full h-8 w-8'>\r\n                  <p className='text-white text-sm'>{index + 1}</p>\r\n                </div>\r\n              </div>\r\n              <div className='flex-shrine-0 mr-2'>\r\n                <div className='border-2 border-yellow-700 overflow-hidden flex items-center rounded-full bg-gray-800 h-10 w-10'>\r\n                  {userImage ? (\r\n                    <img className='w-9 h-9 object-contain'\r\n                      src={userImage}\r\n                      alt={firstName[0].toUpperCase()}\r\n                    />\r\n                  ) : (\r\n                    <div className='text-xl text-white bg-black w-14 h-14 flex items-center justify-center'>\r\n                      {firstName[0].toUpperCase()}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div className='flex-grow min-w-0 flex items-center justify-between'>\r\n                <p className='text-white font-bold truncate mr-2'>\r\n                  {firstName} {lastName}\r\n                </p>\r\n                <p className='text-white whitespace-nowrap flex-shrink-0'>\r\n                  🌿 {formatNumber(balance)}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          )\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Liders;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}